<!DOCTYPE html>


  <html class="light page-post">


<head>
  <meta charset="utf-8">
  
  <title>Hello, Go! | N.Y.</title>

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
    <meta name="keywords" content="Golang," />
  

  <meta name="description" content="Hello, Go!æœ€è¿‘å¼€å§‹æ”¾é£è‡ªæˆ‘ï¼Œæƒ³å­¦ç‚¹æ–°æŠ€æœ¯ï¼Œæ°å¥½æ¥è§¦åˆ° Golang è¯­æ³•é£æ ¼å’Œ C çš„è¯­æ³•é£æ ¼ç›¸ä¼¼ï¼Œå°±æƒ³å°è¯•ä¸€ä¸‹ã€‚äºæ˜¯ï¼Œå°±æœ‰äº†è¿™ç¯‡æ¯”è¾ƒæ°´çš„å…¥é—¨æ–‡ç« ã€‚è‡ªç„¶ï¼Œåˆ—ä½çœ‹å®˜ï¼Œè‹¥æ˜¯è§‰å¾—æ­¤æ–‡å¤ªæ°´ï¼Œæ±‚è½»å–·ï½æ‹œè°¢ ğŸ™ˆğŸ˜ã€‚ é—²è¨€å°‘å™ï¼Œå¼€å§‹æ­£æ–‡ã€‚ ä¸‹è½½ä¸å®‰è£…åœ¨ macOSï¼ˆOS Xï¼‰ ä¸Šå®‰è£… Go å¾ˆç®€å•ï¼Œç›´æ¥åˆ° https:&#x2F;&#x2F;golang.org&#x2F;dl&#x2F; ä¸‹è½½å¯¹åº”çš„ pkg å®‰è£…åŒ…å³å¯ã€‚ å¦‚æœæ˜¯åªæœ‰">
<meta property="og:type" content="article">
<meta property="og:title" content="Hello, Go!">
<meta property="og:url" content="http://niyaoyao.me/2017/05/06/fly-away-day1.1/index.html">
<meta property="og:site_name" content="N.Y.">
<meta property="og:description" content="Hello, Go!æœ€è¿‘å¼€å§‹æ”¾é£è‡ªæˆ‘ï¼Œæƒ³å­¦ç‚¹æ–°æŠ€æœ¯ï¼Œæ°å¥½æ¥è§¦åˆ° Golang è¯­æ³•é£æ ¼å’Œ C çš„è¯­æ³•é£æ ¼ç›¸ä¼¼ï¼Œå°±æƒ³å°è¯•ä¸€ä¸‹ã€‚äºæ˜¯ï¼Œå°±æœ‰äº†è¿™ç¯‡æ¯”è¾ƒæ°´çš„å…¥é—¨æ–‡ç« ã€‚è‡ªç„¶ï¼Œåˆ—ä½çœ‹å®˜ï¼Œè‹¥æ˜¯è§‰å¾—æ­¤æ–‡å¤ªæ°´ï¼Œæ±‚è½»å–·ï½æ‹œè°¢ ğŸ™ˆğŸ˜ã€‚ é—²è¨€å°‘å™ï¼Œå¼€å§‹æ­£æ–‡ã€‚ ä¸‹è½½ä¸å®‰è£…åœ¨ macOSï¼ˆOS Xï¼‰ ä¸Šå®‰è£… Go å¾ˆç®€å•ï¼Œç›´æ¥åˆ° https:&#x2F;&#x2F;golang.org&#x2F;dl&#x2F; ä¸‹è½½å¯¹åº”çš„ pkg å®‰è£…åŒ…å³å¯ã€‚ å¦‚æœæ˜¯åªæœ‰">
<meta property="og:locale">
<meta property="og:image" content="https://niyaoyao.github.io/images/golang-02.png">
<meta property="og:image" content="https://niyaoyao.github.io/images/qrcod_ny_1.jpg">
<meta property="article:published_time" content="2017-05-05T16:00:00.000Z">
<meta property="article:modified_time" content="2024-04-15T15:21:28.580Z">
<meta property="article:author" content="Niyao">
<meta property="article:tag" content="Golang">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://niyaoyao.github.io/images/golang-02.png">

  

  
    <link rel="icon" href="/favicon.ico/images/avatar_ny.ico">
  

  <link href="/css/styles.css?v=c114cbeddx" rel="stylesheet">


  
    
<link rel="stylesheet" href="/css/personal-style.css">

  

  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-38189205-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


  
  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?57e94d016e201fba3603a8a2b0263af0";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>


  
  <script type="text/javascript">
	(function(){
	    var bp = document.createElement('script');
	    var curProtocol = window.location.protocol.split(':')[0];
	    if (curProtocol === 'https') {
	        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
	    }
	    else {
	        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
	    }
	    var s = document.getElementsByTagName("script")[0];
	    s.parentNode.insertBefore(bp, s);
	})();
  </script>



  
    <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.3.0/css/font-awesome.min.css">
  

<meta name="generator" content="Hexo 5.4.2"></head>

<body>


  
    <span id="toolbox-mobile" class="toolbox-mobile">Hi~</span>
  

  <div class="post-header CENTER">
   
  <div class="toolbox">
    <a class="toolbox-entry" href="/">
      <span class="toolbox-entry-text">Hi~</span>
      <i class="icon-angle-down"></i>
      <i class="icon-home"></i>
    </a>
    <ul class="list-toolbox">
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/archives/"
            rel="noopener noreferrer"
            target="_self"
            >
            åšå®¢
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/category/"
            rel="noopener noreferrer"
            target="_self"
            >
            åˆ†ç±»
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/tag/"
            rel="noopener noreferrer"
            target="_self"
            >
            æ ‡ç­¾
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/link/"
            rel="noopener noreferrer"
            target="_self"
            >
            å‹é“¾
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/about/"
            rel="noopener noreferrer"
            target="_self"
            >
            å…³äº
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/atom.xml"
            rel="noopener noreferrer"
            target="_blank"
            >
            RSS
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/search/"
            rel="noopener noreferrer"
            target="_self"
            >
            æœç´¢
          </a>
        </li>
      
    </ul>
  </div>


</div>


  <div id="toc" class="toc-article">
    <strong class="toc-title">æ–‡ç« ç›®å½•</strong>
    <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Hello-Go"><span class="toc-text">Hello, Go!</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%8B%E8%BD%BD%E4%B8%8E%E5%AE%89%E8%A3%85"><span class="toc-text">ä¸‹è½½ä¸å®‰è£…</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8B%E8%BD%BD"><span class="toc-text">ä¸‹è½½</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85"><span class="toc-text">å®‰è£…</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%AA%8C%E8%AF%81"><span class="toc-text">éªŒè¯</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE-Go-%E7%9A%84%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="toc-text">è®¾ç½® Go çš„ç¯å¢ƒå˜é‡</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="toc-text">è®¾ç½®ç¯å¢ƒå˜é‡</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Hello-World"><span class="toc-text">Hello, World</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E9%A1%B9%E7%9B%AE%E7%9B%AE%E5%BD%95"><span class="toc-text">é…ç½®é¡¹ç›®ç›®å½•</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA-hello-go"><span class="toc-text">åˆ›å»º hello.go</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%90%AD%E5%BB%BA-Go-%E7%9A%84-Web-%E6%9C%8D%E5%8A%A1"><span class="toc-text">æ­å»º Go çš„ Web æœåŠ¡</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9B%91%E5%90%AC-TCP-%E7%AB%AF%E5%8F%A3"><span class="toc-text">ç›‘å¬ TCP ç«¯å£</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9"><span class="toc-text">ä¿®æ”¹</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Supervisor-%E7%AE%A1%E7%90%86%E8%BF%9B%E7%A8%8B"><span class="toc-text">Supervisor ç®¡ç†è¿›ç¨‹</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-1"><span class="toc-text">å®‰è£…</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE-supervisord-conf"><span class="toc-text">é…ç½® supervisord.conf</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Supervisor-%E7%9A%84%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%92%8C%E6%9C%8D%E5%8A%A1%E7%AB%AF"><span class="toc-text">Supervisor çš„å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AE%A1%E7%90%86-Go-%E8%BF%9B%E7%A8%8B"><span class="toc-text">ç®¡ç† Go è¿›ç¨‹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BE%93%E5%87%BA-HTML"><span class="toc-text">è¾“å‡º HTML</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%BC%96%E8%BE%91-HTML-%E6%96%87%E6%A1%A3"><span class="toc-text">ç¼–è¾‘ HTML æ–‡æ¡£</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9-hello-go"><span class="toc-text">ä¿®æ”¹ hello.go</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99"><span class="toc-text">å‚è€ƒèµ„æ–™</span></a></li></ol>
  </div>



<div class="content content-post CENTER">
   <article id="post-fly-away-day1.1" class="article article-type-post" itemprop="blogPost">
  <header class="article-header">
    <h1 class="post-title">Hello, Go!</h1>

    <div class="article-meta">
      <span>
        <i class="icon-calendar"></i>
        <span>2017.05.06</span>
      </span>

      
        <span class="article-author">
          <i class="icon-user"></i>
          <span>Niyao</span>
        </span>
      

      
  <span class="article-category">
    <i class="icon-list"></i>
    <a class="article-category-link" href="/categories/Golang/">Golang</a>
  </span>



      

      
      <i class="fa fa-eye"></i> 
        <span id="busuanzi_container_page_pv">
           &nbspçƒ­åº¦ <span id="busuanzi_value_page_pv">
           <i class="fa fa-spinner fa-spin"></i></span>â„ƒ
        </span>
      
      
    </div>
  </header>

  <div class="article-content">
    
      <p><img src="https://niyaoyao.github.io/images/golang-02.png" alt=""></p>
<h1 id="Hello-Go"><a href="#Hello-Go" class="headerlink" title="Hello, Go!"></a>Hello, Go!</h1><p>æœ€è¿‘å¼€å§‹æ”¾é£è‡ªæˆ‘ï¼Œæƒ³å­¦ç‚¹æ–°æŠ€æœ¯ï¼Œæ°å¥½æ¥è§¦åˆ° Golang è¯­æ³•é£æ ¼å’Œ C çš„è¯­æ³•é£æ ¼ç›¸ä¼¼ï¼Œå°±æƒ³å°è¯•ä¸€ä¸‹ã€‚äºæ˜¯ï¼Œå°±æœ‰äº†è¿™ç¯‡æ¯”è¾ƒæ°´çš„å…¥é—¨æ–‡ç« ã€‚è‡ªç„¶ï¼Œåˆ—ä½çœ‹å®˜ï¼Œè‹¥æ˜¯è§‰å¾—æ­¤æ–‡å¤ªæ°´ï¼Œæ±‚è½»å–·ï½æ‹œè°¢ ğŸ™ˆğŸ˜ã€‚</p>
<p>é—²è¨€å°‘å™ï¼Œå¼€å§‹æ­£æ–‡ã€‚</p>
<h1 id="ä¸‹è½½ä¸å®‰è£…"><a href="#ä¸‹è½½ä¸å®‰è£…" class="headerlink" title="ä¸‹è½½ä¸å®‰è£…"></a>ä¸‹è½½ä¸å®‰è£…</h1><p>åœ¨ macOSï¼ˆOS Xï¼‰ ä¸Šå®‰è£… Go å¾ˆç®€å•ï¼Œç›´æ¥åˆ° <a target="_blank" rel="noopener" href="https://golang.org/dl/">https://golang.org/dl/</a> ä¸‹è½½å¯¹åº”çš„ pkg å®‰è£…åŒ…å³å¯ã€‚</p>
<p>å¦‚æœæ˜¯åªæœ‰ terminal çš„æœåŠ¡ç«¯ï¼Œé‚£å°±å€ŸåŠ©å‘½ä»¤è¡Œæ¥å®‰è£…ã€‚</p>
<p><strong>æœ¬æ–‡ä¸»è¦ä»¥ CentOS 7.2 ä½œä¸ºæ“ä½œç¯å¢ƒï¼ŒmacOS å¯èƒ½æœ‰äº›è®¸ä¸åŒã€‚</strong></p>
<h2 id="ä¸‹è½½"><a href="#ä¸‹è½½" class="headerlink" title="ä¸‹è½½"></a>ä¸‹è½½</h2><p>åˆ°å…·æœ‰å†™æƒé™çš„ç›®å½•ä¸‹ä¸‹è½½æœ€æ–°ç‰ˆæœ¬çš„å®‰è£…åŒ…ï¼Œå¹¶å¯¹å®‰è£…åŒ…è¿›è¡Œæ ¡éªŒã€‚</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> /tmp</span><br><span class="line">curl -LO https://storage.googleapis.com/golang/go1.8.1.linux-amd64.tar.gz</span><br><span class="line">shasum -a 256 go1.8*.tar.gz</span><br></pre></td></tr></table></figure>
<h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">sudo tar -C /usr/local -xvzf go1.8.1.linux-amd64.tar.gz</span><br></pre></td></tr></table></figure>
<h2 id="éªŒè¯"><a href="#éªŒè¯" class="headerlink" title="éªŒè¯"></a>éªŒè¯</h2><p>æŸ¥çœ‹ Go çš„ç‰ˆæœ¬å·ï¼Œå³å¯éªŒè¯ Golang æ˜¯å¦å®‰è£…æˆåŠŸã€‚</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">go version</span><br><span class="line">go version go1.8.1 linux/amd64</span><br></pre></td></tr></table></figure>
<h2 id="è®¾ç½®-Go-çš„ç¯å¢ƒå˜é‡"><a href="#è®¾ç½®-Go-çš„ç¯å¢ƒå˜é‡" class="headerlink" title="è®¾ç½® Go çš„ç¯å¢ƒå˜é‡"></a>è®¾ç½® Go çš„ç¯å¢ƒå˜é‡</h2><h3 id="è®¾ç½®ç¯å¢ƒå˜é‡"><a href="#è®¾ç½®ç¯å¢ƒå˜é‡" class="headerlink" title="è®¾ç½®ç¯å¢ƒå˜é‡"></a>è®¾ç½®ç¯å¢ƒå˜é‡</h3><p>è®¾ç½® Go è¯­è¨€ç¯å¢ƒå˜é‡ï¼Œä¾¿äºæ‰§è¡Œ Go çš„å‘½ä»¤ã€‚</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">sudo vi /etc/profile.d/path.sh</span><br></pre></td></tr></table></figure>
<p>è¿½åŠ è¾“å…¥ä»¥ä¸‹å†…å®¹ã€‚<strong>å¦‚æœï¼Œä½ çš„ Go æ‰€å®‰è£…çš„è·¯å¾„ä¸æ˜¯ /usr/local é‚£å°±æ›¿æ¢ä¸ºä½ å®é™…çš„å®‰è£…è·¯å¾„ã€‚</strong></p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$PATH</span>:/usr/local/go/bin</span><br></pre></td></tr></table></figure>
<p>vi(vim) æ‰“å¼€ <strong>~/.bash_profile</strong></p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">vi ~/.bash_profile</span><br></pre></td></tr></table></figure>
<p>ç¼–è¾‘å¦‚ä¸‹å†…å®¹ã€‚<br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">export GOBIN=&quot;$HOME/projects/bin&quot;</span><br><span class="line">export GOPATH=&quot;$HOME/projects/src&quot;</span><br></pre></td></tr></table></figure></p>
<p>åˆ©ç”¨ <strong>source</strong> å‘½ä»¤å°†æœ€æ–°çš„é…ç½®ï¼Œåº”ç”¨åˆ°å½“å‰çš„ BASH ä¼šè¯ä¸­ã€‚</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="built_in">source</span> /etc/profile &amp;&amp; <span class="built_in">source</span> ~/.bash_profile</span><br></pre></td></tr></table></figure>
<h1 id="Hello-World"><a href="#Hello-World" class="headerlink" title="Hello, World"></a>Hello, World</h1><p>æ˜¯çš„ï¼Œæ²¡é”™ï½ä¸‡å¹´ä¸å˜çš„ <strong>Hello World</strong>ã€‚</p>
<h2 id="é…ç½®é¡¹ç›®ç›®å½•"><a href="#é…ç½®é¡¹ç›®ç›®å½•" class="headerlink" title="é…ç½®é¡¹ç›®ç›®å½•"></a>é…ç½®é¡¹ç›®ç›®å½•</h2><p>åˆ›å»º Go é¡¹ç›®ç›®å½•ï¼Œä¸€èˆ¬ Go ç›®å½•åŒ…å« binã€pkgã€srcã€‚å…¶ä¸­ï¼Œbin ç”¨æ¥å­˜ç¼–è¯‘åçš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œpkg ç”¨æ¥å­˜åŒ…æ–‡ä»¶ï¼Œsrc ç”¨æ¥å­˜ç¨‹åºæºç ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cd ~</span><br><span class="line">mkdir -p ~/projects/&#123;bin,pkg,src&#125;</span><br></pre></td></tr></table></figure>
<h2 id="åˆ›å»º-hello-go"><a href="#åˆ›å»º-hello-go" class="headerlink" title="åˆ›å»º hello.go"></a>åˆ›å»º hello.go</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">vi ~/projects/src/hello.go</span><br></pre></td></tr></table></figure>
<p>æ‰“å¼€ hello.go æ–‡ä»¶åï¼Œè¾“å…¥ä»¥ä¸‹å†…å®¹ã€‚</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    fmt.Printf(<span class="string">&quot;Hello, World!\n&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç¼–è¾‘å®Œæ–‡ä»¶åï¼Œåœ¨ç»ˆç«¯è¾“å…¥å¦‚ä¸‹å‘½ä»¤ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">go install $GOPATH/hello.go</span><br><span class="line">$GOBIN/hello</span><br></pre></td></tr></table></figure>
<p>æŸ¥çœ‹ Go çš„æ‰‹å†Œå¯ä»¥å¾—çŸ¥ <strong>go install</strong> æ˜¯ç”¨æ¥ç¼–è¯‘ä»¥åŠå®‰è£…ä¾èµ–åŒ…çš„ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Usage:</span><br><span class="line">	go command [arguments]</span><br><span class="line">	install     compile and install packages and dependencies</span><br></pre></td></tr></table></figure>
<p>ä¹‹åï¼Œåœ¨ç»ˆç«¯å°±ä¼šè¾“å‡º <strong>Hello, World!</strong> äº†ã€‚</p>
<h2 id="æ­å»º-Go-çš„-Web-æœåŠ¡"><a href="#æ­å»º-Go-çš„-Web-æœåŠ¡" class="headerlink" title="æ­å»º Go çš„ Web æœåŠ¡"></a>æ­å»º Go çš„ Web æœåŠ¡</h2><p>å†™å®Œ <strong>Hello, World!</strong> ä¹‹åæ¥ä¸‹æ¥è¯¥åšä»€ä¹ˆå‘¢ï¼Ÿæ—¢ç„¶ï¼Œæˆ‘ä»¬èƒ½è®© <strong>Hello, World!</strong> åœ¨ç»ˆç«¯è¾“å‡ºï¼Œæ˜¯å¦èƒ½å¤Ÿè®©å®ƒåœ¨æµè§ˆå™¨é‡Œè¾“å‡ºå‘¢ï¼Ÿå½“ç„¶å¿…é¡»å¯ä»¥çš„ï½é‚£ä¹ˆï¼Œæ¥ä¸‹æ¥å°±å¼€å§‹æ­å»º Go çš„æœåŠ¡ç«¯ã€‚</p>
<h3 id="ç›‘å¬-TCP-ç«¯å£"><a href="#ç›‘å¬-TCP-ç«¯å£" class="headerlink" title="ç›‘å¬ TCP ç«¯å£"></a>ç›‘å¬ TCP ç«¯å£</h3><p>ä¸ PHP ä¸åŒï¼Œ Go ä¸éœ€è¦ Nginxã€Apache è¿™æ ·çš„æœåŠ¡å™¨ã€‚Goå°±æ˜¯ä¸éœ€è¦è¿™äº›ï¼Œå› ä¸ºä»–ç›´æ¥å°±ç›‘å¬ TCP ç«¯å£äº†ï¼Œåšäº† Nginx åšçš„äº‹æƒ…ã€‚</p>
<h4 id="ä¿®æ”¹"><a href="#ä¿®æ”¹" class="headerlink" title="ä¿®æ”¹"></a>ä¿®æ”¹</h4><p>æ‰€ä»¥ï¼Œæ¥ä¸‹æ¥å°±å†™ä»£ç ï¼ŒæŠŠ hello.go ç¨åŠ ä¿®æ”¹ã€‚</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;log&quot;</span></span><br><span class="line">    <span class="string">&quot;net/http&quot;</span></span><br><span class="line">    <span class="string">&quot;html/template&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">helloNY</span> <span class="params">(w http.ResponseWriter, r *http.Request)</span></span> &#123;</span><br><span class="line">    fmt.Fprintf(w, <span class="string">&quot;Hello Go, NY&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    http.HandleFunc(<span class="string">&quot;/&quot;</span>, helloNY)</span><br><span class="line"></span><br><span class="line">    err := http.ListenAndServe(<span class="string">&quot;:9090&quot;</span>, <span class="literal">nil</span>)</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        log.Fatal(<span class="string">&quot;ListenAndServe: &quot;</span>, err)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ä»¥ä¸Šè¿™æ®µä»£ç ï¼Œæ–°å¼•å…¥äº† log net/http html/template è¿™å‡ ä¸ªä¾èµ–åŒ…ã€‚</span><br><span class="line"></span><br><span class="line">http.HandleFunc(&quot;/&quot;, helloNY) è¿™å¥ä»£ç ç”¨æ¥è®¾ç½®è®¿é—®çš„è·¯ç”±ï¼Œåé¢æˆ‘ä»¬å¯ä»¥åˆ©ç”¨å®ƒæ¥è‡ªå®šä¹‰ routerã€‚</span><br><span class="line"></span><br><span class="line">err := http.ListenAndServe(&quot;:9090&quot;, nil) è¿™å¥ä»£ç ç”¨æ¥è®¾ç½®ç›‘å¬çš„ç«¯å£ã€‚</span><br><span class="line"></span><br><span class="line">fmt.Fprintf(w, &quot;Hello Go, NY&quot;) è¿™å¥ä»£ç ç”¨æ¥å‘å®¢æˆ·ç«¯ï¼ˆæµè§ˆå™¨ï¼‰è¾“å‡º Hello Go, NY</span><br></pre></td></tr></table></figure>
<p>é‡æ–°ç¼–è¯‘ hello.go ç»ˆç«¯è¾“å‡ºç»“æœï¼Œé‚£æˆ‘ä»¬çš„æ–‡ä»¶ä¿®æ”¹å°±å®Œæˆäº†ã€‚ä½†æ˜¯ï¼Œé—®é¢˜åˆæ¥äº†ã€‚å¦‚ä½•è¿è¡Œ Go çš„è¿›ç¨‹ï¼Œå¹¶ä¸”ä¸ä¸­æ–­ç»ˆç«¯çš„å…¶ä»–æ“ä½œå‘¢ï¼Ÿ</p>
<p>è¿™é‡Œå°±éœ€è¦å®‰è£…ä¸€ä¸ªæ–°çš„è¿›ç¨‹å®ˆæŠ¤è½¯ä»¶ã€Œsupervisorã€ã€‚</p>
<h3 id="Supervisor-ç®¡ç†è¿›ç¨‹"><a href="#Supervisor-ç®¡ç†è¿›ç¨‹" class="headerlink" title="Supervisor ç®¡ç†è¿›ç¨‹"></a>Supervisor ç®¡ç†è¿›ç¨‹</h3><p><strong>Supervisor is a client/server system that allows its users to control a number of processes on UNIX-like operating systems.</strong></p>
<p>Supervisor æ˜¯ä¸€æ¬¾ç±» UNIX æ“ä½œç³»ç»Ÿä¸Šï¼Œç”¨æ¥ç®¡ç†å¤šä¸ªè¿›ç¨‹çš„å®¢æˆ·ç«¯ï¼æœåŠ¡ç«¯çš„ç³»ç»Ÿã€‚<br>é¡¹ç›®çš„å¼€æºä»“åº“åœ¨ <a target="_blank" rel="noopener" href="https://github.com/Supervisor/supervisor">https://github.com/Supervisor/supervisor</a> ï¼Œä½¿ç”¨é…ç½®ä¹Ÿæ¯”è¾ƒç®€å•ï¼Œæ¥ä¸‹æ¥å°±å¼€å§‹å­¦ä¹  Supervisor æ¥ç®¡ç†æˆ‘ä»¬ hello.go çš„è¿›ç¨‹ã€‚</p>
<h4 id="å®‰è£…-1"><a href="#å®‰è£…-1" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h4><p>åœ¨ CentOS ä¸Šåˆ©ç”¨ <strong>yum</strong> å®‰è£… python çš„å·¥å…·ï¼Œç”¨ <strong>easy_install</strong> å®‰è£… <strong>supervisor</strong>ã€‚</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">sudo yum install python-setuptools</span><br><span class="line">sudo easy_install supervisor</span><br></pre></td></tr></table></figure>
<h4 id="é…ç½®-supervisord-conf"><a href="#é…ç½®-supervisord-conf" class="headerlink" title="é…ç½® supervisord.conf"></a>é…ç½® supervisord.conf</h4><p>è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼Œç”Ÿæˆé…ç½®æ–‡ä»¶ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo echo_supervisord_conf &gt; /etc/supervisord.conf</span><br></pre></td></tr></table></figure>
<p>ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œé…ç½® Go åº”ç”¨ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[program:golang-http-server]</span><br><span class="line">command=/root/projects/bin/hello</span><br><span class="line">autostart=true</span><br><span class="line">autorestart=true</span><br><span class="line">startsecs=10</span><br><span class="line">stdout_logfile=/var/log/simple_http_server.log</span><br><span class="line">stdout_logfile_maxbytes=1MB</span><br><span class="line">stdout_logfile_backups=10</span><br><span class="line">stdout_capture_maxbytes=1MB</span><br><span class="line">stderr_logfile=/var/log/simple_http_server.log</span><br><span class="line">stderr_logfile_maxbytes=1MB</span><br><span class="line">stderr_logfile_backups=10</span><br><span class="line">stderr_capture_maxbytes=1MB</span><br></pre></td></tr></table></figure>
<h4 id="Supervisor-çš„å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯"><a href="#Supervisor-çš„å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯" class="headerlink" title="Supervisor çš„å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯"></a>Supervisor çš„å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯</h4><p>å¼€å§‹ä½¿ç”¨ Supervisor ä¹‹å‰è¦å…ˆåˆ†æ¸… Supervisor çš„å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ã€‚</p>
<p>ç¬”è€…å°±æ˜¯ä¸€å¼€å§‹æ²¡æœ‰åˆ†æ¸…è¿™ä¸¤ä¸ªå·¥å…·ï¼Œä¸€å¼€å§‹å°±ä¸æ‡‚æ€ä¹ˆåœ¨ä¿®æ”¹å®Œ *.go ç¨‹åºæºç ä¹‹åé‡å¯è¿›ç¨‹è®©æœåŠ¡æ›´æ–°ã€‚æ¯•ç«Ÿï¼ŒGo ä¸åƒ PHP ä¸€æ ·å¯ä»¥é‡å¯ Nginxã€Apache æœåŠ¡å™¨ï¼Œè€Œæ˜¯é€šè¿‡ Supervisor æ¥ç®¡ç†è¿›ç¨‹ï¼Œæ‰€ä»¥å¿…é¡»è¦ææ¸…æ¥šè°æ˜¯ Client ï¼Œè°æ˜¯ Serverã€‚</p>
<ul>
<li>å®¢æˆ·ç«¯</li>
</ul>
<p>supervisorctl æ˜¯ Supervisor çš„å®¢æˆ·ç«¯ï¼Œä¸€èˆ¬æˆ‘ä»¬ç”¨ <strong>supervisorctl</strong> æ¥ç®¡ç†é…ç½®å¥½çš„åº”ç”¨è¿›ç¨‹ã€‚<br>ç»ˆç«¯è¾“å…¥ <strong>supervisorctl â€”help</strong> æ¥æŸ¥çœ‹ <strong>supervisorctl</strong> ç”¨æ³•ã€‚</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">supervisorctl --<span class="built_in">help</span></span><br><span class="line">supervisorctl -- control applications run by supervisord from the cmd line.</span><br><span class="line">....</span><br></pre></td></tr></table></figure>
<p>å› æ­¤ï¼Œå¯ä»¥ç¡®å®š <strong>supervisorctl</strong> æ˜¯ç®¡ç†åº”ç”¨çš„å®¢æˆ·ç«¯ã€‚</p>
<ul>
<li>æœåŠ¡ç«¯</li>
</ul>
<p>åŒæ ·ï¼Œæ¥çœ‹æœåŠ¡ç«¯ã€‚<br><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">supervisord --<span class="built_in">help</span></span><br><span class="line">supervisord -- run a <span class="built_in">set</span> of applications as daemons.</span><br><span class="line">....</span><br></pre></td></tr></table></figure><br>ç”±æ­¤ï¼Œæ›´åŠ ç¡®å®š <strong>supervisord</strong> æ˜¯å°†åº”ç”¨ä½œä¸ºåå°ç¨‹åºè¿è¡Œçš„æœåŠ¡ç«¯ã€‚</p>
<h4 id="ç®¡ç†-Go-è¿›ç¨‹"><a href="#ç®¡ç†-Go-è¿›ç¨‹" class="headerlink" title="ç®¡ç† Go è¿›ç¨‹"></a>ç®¡ç† Go è¿›ç¨‹</h4><p>å¼€å¯ã€é‡å¯ã€åœæ­¢ Go è¿›ç¨‹éƒ½åœ¨ <strong>supervisorctl</strong> ä¸­è¿›è¡Œã€‚åœ¨ç»ˆç«¯ç›´æ¥è¾“å…¥ <strong>supervisorctl</strong> åˆ™å¯è¿›å…¥ Supervisor çš„å®¢æˆ·ç«¯ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">supervisorctl</span><br><span class="line">golang-http-server               RUNNING   pid 3321, uptime 5 days, 5:55:24</span><br></pre></td></tr></table></figure>
<p>å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬åˆšæ‰é…ç½®çš„ <strong>golang-http-server</strong> æ­£åœ¨è¿è¡Œã€‚</p>
<p>ç»§ç»­è¾“å…¥ <strong>help</strong> å¯ä»¥çœ‹åˆ°é»˜è®¤çš„æ‰€æœ‰å‘½ä»¤ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">supervisor&gt; help</span><br><span class="line"></span><br><span class="line">default commands (type help &lt;topic&gt;):</span><br><span class="line">=====================================</span><br><span class="line">add    clear  fg        open  quit    remove  restart   start   stop  update </span><br><span class="line">avail  exit   maintail  pid   reload  reread  shutdown  status  tail  version</span><br><span class="line"></span><br><span class="line">supervisor&gt; </span><br></pre></td></tr></table></figure>
<p>æ¯”å¦‚ï¼Œå½“æˆ‘ä»¬é‡æ–°ä¿®æ”¹ hello.go æ–‡ä»¶çš„è¯ï¼Œå°±ç›´æ¥å¯ä»¥ä½¿ç”¨ <strong>supervisorctl</strong> æ¥é‡å¯ <strong>golang-http-server</strong> è¿™ä¸ªåº”ç”¨çš„è¿›ç¨‹ã€‚</p>
<p>é™¤æ­¤ä¹‹å¤–ï¼Œå½“æˆ‘ä»¬å¯¹ supervisord.conf æ–‡ä»¶è¿›è¡Œä¿®æ”¹ã€‚<br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">vim /etc/supervisord.conf</span><br></pre></td></tr></table></figure></p>
<p>è¦ä»æ–°é…ç½®ç›¸å…³æ–‡ä»¶ï¼Œåˆ™é¡»å¦‚ä¸‹å‘½ä»¤ã€‚<br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/usr/bin/supervisord -c /etc/supervisord.conf</span><br></pre></td></tr></table></figure><br>ä¸¤æ¡å‘½ä»¤çš„é¡ºåºä¸è¦é”™ï¼Œä¸ç„¶ä¼šæŠ¥ Python å’Œ Unix é”™è¯¯ã€‚</p>
<p>é‚£ä¹ˆï¼Œåˆ°æ­¤ä¸ºæ­¢ï¼Œæˆ‘ä»¬è®¿é—®æœåŠ¡å™¨çš„ IPï¼åŸŸå:9090 ç«¯å£å°±å¯ä»¥çœ‹åˆ° <strong>Hello Go, NY</strong> è¿™ä¸ªè¾“å‡ºäº†ã€‚ç„¶è€Œï¼Œé—®é¢˜åˆæ¥äº†ï¼Œæˆ‘ä»¬å¯ä»¥åƒå®¢æˆ·ç«¯ï¼ˆæµè§ˆå™¨ï¼‰è¾“å‡ºä¸€æ®µ raw string ï¼Œé‚£æˆ‘ä»¬æ˜¯å¦å¯ä»¥ç›´æ¥è§£æ HTML æ–‡æ¡£ï¼Œå¹¶å‘æµè§ˆå™¨è¾“å‡ºå‘¢ï¼Ÿ å½“ç„¶ä»æ˜¯å¯ä»¥çš„ï¼Œæ¥ä¸‹æ¥å°±ç»§ç»­çœ‹å¦‚ä½•åŠ è½½ HTMLã€‚</p>
<h4 id="è¾“å‡º-HTML"><a href="#è¾“å‡º-HTML" class="headerlink" title="è¾“å‡º HTML"></a>è¾“å‡º HTML</h4><h5 id="ç¼–è¾‘-HTML-æ–‡æ¡£"><a href="#ç¼–è¾‘-HTML-æ–‡æ¡£" class="headerlink" title="ç¼–è¾‘ HTML æ–‡æ¡£"></a>ç¼–è¾‘ HTML æ–‡æ¡£</h5><p>è¾“å…¥ä»¥ä¸‹ HTML å¹¶ä¿å­˜ä¸º ny-home.html æ–‡æ¡£ã€‚<br><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>NY<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">  <span class="selector-tag">html</span>, <span class="selector-tag">body</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">color</span>: <span class="number">#373D49</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">font-size</span>: <span class="number">1rem</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">line-height</span>: <span class="number">2rem</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">font-family</span>: Georgia,Cambria,serif;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">margin</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="selector-tag">h1</span>, <span class="selector-tag">h2</span>, <span class="selector-tag">h3</span>, <span class="selector-tag">h4</span>, <span class="selector-tag">h5</span>, <span class="selector-tag">h6</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">font-family</span>: <span class="string">&quot;Source Sans Pro&quot;</span>,<span class="string">&quot;Helvetica Neue&quot;</span>,Helvetica,Arial,sans-serif;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="selector-id">#preview</span> <span class="selector-tag">a</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">color</span>: <span class="number">#A0AABF</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">text-decoration</span>: none;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="selector-tag">img</span><span class="selector-id">#qrcode</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">position</span>: absolute;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">top</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">right</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="selector-tag">img</span><span class="selector-id">#banner</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.wrapper</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">margin</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">id</span>=<span class="string">&quot;preview&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">&quot;banner&quot;</span> <span class="attr">src</span>=<span class="string">&quot;http://chuantu.biz/t5/80/1494091793x1729546437.jpg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;wrapper&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>Welcome to NY space.<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">  Here are some keywords about me.<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">  Sensitive | Thoughtful | Idealism | â¤ï¸ @SuneBear | Cearâ€™s mommy~ ğŸ±<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>Wanna know more about me? You can go below<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://niyaoyao.github.io/&quot;</span>&gt;</span>https://niyaoyao.github.io/<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<h5 id="ä¿®æ”¹-hello-go"><a href="#ä¿®æ”¹-hello-go" class="headerlink" title="ä¿®æ”¹ hello.go"></a>ä¿®æ”¹ hello.go</h5><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;log&quot;</span></span><br><span class="line">    <span class="string">&quot;net/http&quot;</span></span><br><span class="line">    <span class="string">&quot;html/template&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">sayHello</span> <span class="params">(w http.ResponseWriter, r *http.Request)</span></span> &#123;</span><br><span class="line">    fmt.Fprintf(w, <span class="string">&quot;Hello Go, NY&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">nyHome</span><span class="params">(w http.ResponseWriter, r *http.Request)</span></span>  &#123;</span><br><span class="line">  <span class="keyword">if</span> r.Method == <span class="string">&quot;GET&quot;</span> &#123;</span><br><span class="line">      t, _ := template.ParseFiles(<span class="string">&quot;ny-home.html&quot;</span>)</span><br><span class="line">      log.Println(t.Execute(w, <span class="literal">nil</span>))</span><br><span class="line">  &#125; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">    http.HandleFunc(<span class="string">&quot;/&quot;</span>, nyHome)</span><br><span class="line">    http.HandleFunc(<span class="string">&quot;/hello&quot;</span>, sayHello)</span><br><span class="line"></span><br><span class="line">    err := http.ListenAndServe(<span class="string">&quot;:9090&quot;</span>, <span class="literal">nil</span>)</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        log.Fatal(<span class="string">&quot;ListenAndServe: &quot;</span>, err)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¿®æ”¹å¹¶ä¿å­˜ hello.go æ–‡ä»¶åï¼Œé‡æ–°ç¼–è¯‘å‡ºäºŒè¿›åˆ¶æ–‡ä»¶ã€‚<br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">go install $GOPATH/hello.go</span><br></pre></td></tr></table></figure></p>
<p>ç¼–è¯‘æˆåŠŸåï¼Œç”¨ <strong>supervisorctl</strong> é‡å¯åº”ç”¨è¿›ç¨‹ã€‚<br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">supervisorctl </span><br><span class="line">golang-http-server               RUNNING   pid 3321, uptime 5 days, 7:10:30</span><br><span class="line">supervisor&gt; restart golang-http-server </span><br><span class="line">golang-http-server: stopped</span><br><span class="line">golang-http-server: started</span><br><span class="line">supervisor&gt; </span><br></pre></td></tr></table></figure></p>
<p>æœ€åè®¿é—® <a target="_blank" rel="noopener" href="http://www.niyao.space:9090/">http://www.niyao.space:9090/</a> å°±å¯ä»¥çœ‹åˆ°æœ€ç»ˆçš„æˆæœå•¦ã€‚<br>åˆ°æ­¤ï¼Œå¦‚ä½•æ­å»ºä¸€ä¸ª Golang çš„ Web æœåŠ¡å°±ç®—æ¯”è¾ƒå®Œæ»¡çš„å…¥é—¨äº†ã€‚å½“ç„¶ï¼Œæˆ‘çš„ä¹ æƒ¯æ˜¯ç°åšåº”ç”¨å° demo ç„¶åå†æ…¢æ…¢ç†Ÿæ‚‰è¯­è¨€çš„å…·ä½“è¯­æ³•ç»†èŠ‚ï¼Œæ‰€ä»¥ï¼Œè¿˜æ˜¯ Go å°ç™½ä¸€æšï¼Œå¦‚æœæ–‡ä¸­æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡å‡ºååˆ†æ„Ÿè°¢ï¼Œå¯ä»¥å…³æ³¨æˆ‘çš„å…¬ä¼—å·å‘æˆ‘åé¦ˆï¼Œååˆ†æ„Ÿè°¢ ğŸ˜ ï½<br><img src="https://niyaoyao.github.io/images/qrcod_ny_1.jpg" alt=""></p>
<h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><ul>
<li><strong>How To Install Go 1.7 on CentOS 7</strong> <a target="_blank" rel="noopener" href="https://www.digitalocean.com/community/tutorials/how-to-install-go-1-7-on-centos-7">https://www.digitalocean.com/community/tutorials/how-to-install-go-1-7-on-centos-7</a></li>
<li><strong>supervisor è¿è¡Œ golang å®ˆæŠ¤è¿›ç¨‹</strong> <a target="_blank" rel="noopener" href="http://www.01happy.com/supervisor-golang-daemon/">http://www.01happy.com/supervisor-golang-daemon/</a></li>
<li><strong>Go Web ç¼–ç¨‹</strong> <a target="_blank" rel="noopener" href="https://astaxie.gitbooks.io/build-web-application-with-golang/zh/">https://astaxie.gitbooks.io/build-web-application-with-golang/zh/</a></li>
</ul>

    
  </div>

</article>


   
  <div class="text-center donation">
    <div class="inner-donation">
      <span class="btn-donation">æ”¯æŒä¸€ä¸‹</span>
      <div class="donation-body">
        <div class="tip text-center">æ‰«ä¸€æ‰«ï¼Œæ”¯æŒforsigner</div>
        <ul>
        
          <li class="item">
            
              <span>å¾®ä¿¡æ‰«ä¸€æ‰«</span>
            
            <img src="/images/qr-wechat.png" alt="">
          </li>
        
          <li class="item">
            
              <span>æ”¯ä»˜å®æ‰«ä¸€æ‰«</span>
            
            <img src="/images/qr-alipay.png" alt="">
          </li>
        
        </ul>
      </div>
    </div>
  </div>


   
  <div class="box-prev-next clearfix">
    <a class="show pull-left" href="/2017/01/18/reverse-d3/">
        <i class="icon icon-angle-left"></i>
    </a>
    <a class="show pull-right" href="/2017/05/09/reverse-d4/">
        <i class="icon icon-angle-right"></i>
    </a>
  </div>




</div>


  <a id="backTop" class="back-top">
    <i class="icon-angle-up"></i>
  </a>




  <div class="modal" id="modal">
  <span id="cover" class="cover hide"></span>
  <div id="modal-dialog" class="modal-dialog hide-dialog">
    <div class="modal-header">
      <span id="close" class="btn-close">å…³é—­</span>
    </div>
    <hr>
    <div class="modal-body">
      <ul class="list-toolbox">
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/archives/"
              rel="noopener noreferrer"
              target="_self"
              >
              åšå®¢
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/category/"
              rel="noopener noreferrer"
              target="_self"
              >
              åˆ†ç±»
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/tag/"
              rel="noopener noreferrer"
              target="_self"
              >
              æ ‡ç­¾
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/link/"
              rel="noopener noreferrer"
              target="_self"
              >
              å‹é“¾
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/about/"
              rel="noopener noreferrer"
              target="_self"
              >
              å…³äº
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/atom.xml"
              rel="noopener noreferrer"
              target="_blank"
              >
              RSS
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/search/"
              rel="noopener noreferrer"
              target="_self"
              >
              æœç´¢
            </a>
          </li>
        
      </ul>

    </div>
  </div>
</div>



  
      <div class="fexo-comments comments-post">
    

    

    
    

    

    
    

    

<!-- Gitalkè¯„è®ºæ’ä»¶é€šç”¨ä»£ç  -->
<div id="gitalk-container"></div>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
<script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
<script src="//cdn.bootcss.com/blueimp-md5/2.10.0/js/md5.js"></script>
<script>
const gitalk = new Gitalk({
  clientID: 'e929305d1df52067f223',
  clientSecret: '465557188fddc6608846e97927bc2fe7a268f141',
  repo: 'blog-comments',
  owner: 'niyaoyao',
  // åœ¨è¿™é‡Œè®¾ç½®ä¸€ä¸‹æˆªå–å‰50ä¸ªå­—ç¬¦ä¸², è¿™æ˜¯å› ä¸º github å¯¹ label çš„é•¿åº¦æœ‰äº†è¦æ±‚, å¦‚æœè¶…è¿‡
  // 50ä¸ªå­—ç¬¦ä¸²åˆ™ä¼šæŠ¥é”™.
  // id: location.pathname.split('/').pop().substring(0, 49),
  id: md5(location.pathname),
  admin: ['niyaoyao'],
  // facebook-like distraction free mode
  distractionFreeMode: false
})
gitalk.render('gitalk-container')
</script>
<!-- Gitalkä»£ç ç»“æŸ -->



  </div>

  

  <script type="text/javascript">
  function loadScript(url, callback) {
    var script = document.createElement('script')
    script.type = 'text/javascript';

    if (script.readyState) { //IE
      script.onreadystatechange = function() {
        if (script.readyState == 'loaded' ||
          script.readyState == 'complete') {
          script.onreadystatechange = null;
          callback();
        }
      };
    } else { //Others
      script.onload = function() {
        callback();
      };
    }

    script.src = url;
    document.getElementsByTagName('head')[0].appendChild(script);
  }

  window.onload = function() {
    loadScript('/js/bundle.js?235683', function() {
      // load success
    });
  }
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</body>
</html>
